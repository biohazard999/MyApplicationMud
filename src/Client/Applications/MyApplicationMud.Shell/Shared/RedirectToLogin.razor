@using MyApplicationMud.Services
@inject IRedirectToLoginHandler RedirectToLoginHandler

<AuthorizingInfo />

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        //TODO: Url
        await RedirectToLoginHandler.Redirect();

        //var returnUrl = Uri.EscapeDataString("/" + Navigation.ToBaseRelativePath(Navigation.Uri));
        ////Navigation.NavigateTo($"bff/login?returnUrl={returnUrl}", forceLoad: true);

        //var result = await OidcClient.LoginAsync(new LoginRequest
        //{
        //    BrowserDisplayMode = IdentityModel.OidcClient.Browser.DisplayMode.Visible
        //    //TODO: Return Url
        //});
    }
}
