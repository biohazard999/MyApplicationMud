@using MyApplicationMud.Services
@inject IRedirectToLoginHandler RedirectToLoginHandler
@inject NavigationManager Navigation

<AuthorizingInfo />

@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        var returnUrl = Uri.EscapeDataString("/" + Navigation.ToBaseRelativePath(Navigation.Uri));
        //TODO: Url
        await RedirectToLoginHandler.Redirect(returnUrl);

        ////Navigation.NavigateTo($"bff/login?returnUrl={returnUrl}", forceLoad: true);

        //var result = await OidcClient.LoginAsync(new LoginRequest
        //{
        //    BrowserDisplayMode = IdentityModel.OidcClient.Browser.DisplayMode.Visible
        //    //TODO: Return Url
        //});
    }
}
